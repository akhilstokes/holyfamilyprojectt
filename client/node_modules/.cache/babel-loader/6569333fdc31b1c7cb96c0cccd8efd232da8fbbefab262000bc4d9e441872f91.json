{"ast":null,"code":"var _jsxFileName = \"G:\\\\holy-family-polymers\\\\client\\\\src\\\\pages\\\\buyers\\\\QuickCheckout.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../../context/CartContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { placeOrder, createRazorpayOrder, verifyRazorpayPayment } from '../../services/storeService';\nimport './buyers.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KERALA_DISTRICTS = ['Thiruvananthapuram', 'Kollam', 'Pathanamthitta', 'Alappuzha', 'Kottayam', 'Idukki', 'Ernakulam', 'Thrissur', 'Palakkad', 'Malappuram', 'Kozhikode', 'Wayanad', 'Kannur', 'Kasaragod'];\nconst TALUKS_BY_DISTRICT = {\n  Thiruvananthapuram: ['Thiruvananthapuram', 'Neyyattinkara', 'Nedumangad', 'Kattakkada', 'Varkala', 'Chirayinkeezhu'],\n  Kollam: ['Kollam', 'Kunnathoor', 'Karunagappally', 'Kottarakkara', 'Punalur', 'Pathanapuram'],\n  Pathanamthitta: ['Adoor', 'Konni', 'Kozhencherry', 'Ranni', 'Thiruvalla', 'Mallappally'],\n  Alappuzha: ['Alappuzha', 'Ambalappuzha', 'Cherthala', 'Chengannur', 'Karthikappally', 'Mavelikkara'],\n  Kottayam: ['Changanassery', 'Kanjirappally', 'Kottayam', 'Vaikom', 'Meenachil', 'Ettumanoor'],\n  Idukki: ['Devikulam', 'Peerumedu', 'Thodupuzha', 'Udumbanchola', 'Idukki'],\n  Ernakulam: ['Aluva', 'Kochi', 'Kothamangalam', 'Muvattupuzha', 'North Paravur', 'Perumbavoor', 'Kanayannur'],\n  Thrissur: ['Chalakudy', 'Chavakkad', 'Kodungallur', 'Kunnamkulam', 'Mukundapuram', 'Thalapilly', 'Thrissur'],\n  Palakkad: ['Alathur', 'Chittur', 'Mannarkkad', 'Ottapalam', 'Palakkad', 'Pattambi'],\n  Malappuram: ['Eranad', 'Kondotty', 'Nilambur', 'Perinthalmanna', 'Ponnani', 'Tirur', 'Tirurangadi'],\n  Kozhikode: ['Kozhikode', 'Vadakara', 'Koyilandy', 'Thamarassery'],\n  Wayanad: ['Mananthavady', 'Sulthan Bathery', 'Vythiri'],\n  Kannur: ['Iritty', 'Kannur', 'Payyannur', 'Taliparamba', 'Thalassery'],\n  Kasaragod: ['Hosdurg', 'Kasaragod', 'Manjeshwaram', 'Vellarikundu']\n};\nexport default function QuickCheckout() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    isAuthenticated,\n    logout\n  } = useAuth();\n  const {\n    items,\n    totals,\n    clearCart\n  } = useCart();\n  const [step, setStep] = useState(1);\n  const [delivery, setDelivery] = useState({\n    district: '',\n    taluk: '',\n    addressLine: ''\n  });\n  const [paymentMethod, setPaymentMethod] = useState('upi');\n  const [agree, setAgree] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(60);\n  const cartList = useMemo(() => items.map(i => ({\n    name: i.name,\n    qty: i.quantity,\n    price: i.price,\n    subtotal: i.price * i.quantity\n  })), [items]);\n  useEffect(() => {\n    if (!isAuthenticated) return;\n    if (step === 6) {\n      setTimer(60);\n      let stopped = false;\n      const t = setInterval(async () => {\n        setTimer(v => {\n          const next = v - 1;\n          if (next <= 0 && !stopped) {\n            stopped = true;\n            clearInterval(t);\n            (async () => {\n              try {\n                await logout();\n              } catch (_) {} finally {\n                navigate('/login');\n              }\n            })();\n          }\n          return next;\n        });\n      }, 1000);\n      return () => {\n        stopped = true;\n        clearInterval(t);\n      };\n    }\n  }, [step, isAuthenticated, navigate, logout]);\n  const next = () => setStep(s => Math.min(6, s + 1));\n  const back = () => setStep(s => Math.max(1, s - 1));\n  const proceedPayment = async () => {\n    var _res$order;\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    setLoading(true);\n    const payload = {\n      items: items.map(i => ({\n        product: i.productId,\n        name: i.name,\n        type: i.type,\n        category: i.category,\n        unitPrice: i.price,\n        quantity: i.quantity,\n        subtotal: i.price * i.quantity\n      })),\n      notes: `Delivery: ${delivery.district}/${delivery.taluk} - ${delivery.addressLine}`\n    };\n    const res = await placeOrder(payload);\n    if (!(res !== null && res !== void 0 && res.success) || !((_res$order = res.order) !== null && _res$order !== void 0 && _res$order._id)) {\n      setLoading(false);\n      alert('Failed to place order');\n      return;\n    }\n    const scriptOk = await new Promise(resolve => {\n      if (window.Razorpay) return resolve(true);\n      const s = document.createElement('script');\n      s.src = 'https://checkout.razorpay.com/v1/checkout.js';\n      s.onload = () => resolve(true);\n      s.onerror = () => resolve(false);\n      document.body.appendChild(s);\n    });\n    if (!scriptOk) {\n      setLoading(false);\n      alert('Failed to load payment gateway');\n      return;\n    }\n    const pr = await createRazorpayOrder(res.order._id);\n    if (!(pr !== null && pr !== void 0 && pr.success)) {\n      setLoading(false);\n      alert('Unable to initiate payment');\n      return;\n    }\n    const opts = {\n      key: pr.key,\n      amount: pr.amount,\n      currency: pr.currency || 'INR',\n      name: 'Holy Family Polymers',\n      description: 'Order Payment',\n      order_id: pr.rpOrderId,\n      handler: async function (response) {\n        const verify = await verifyRazorpayPayment(res.order._id, {\n          razorpay_order_id: response.razorpay_order_id,\n          razorpay_payment_id: response.razorpay_payment_id,\n          razorpay_signature: response.razorpay_signature\n        });\n        setLoading(false);\n        if (verify !== null && verify !== void 0 && verify.success) {\n          clearCart();\n          setStep(6);\n        } else {\n          alert('Payment verification failed');\n        }\n      },\n      theme: {\n        color: '#0f766e'\n      },\n      method: {\n        upi: paymentMethod === 'upi',\n        card: paymentMethod === 'card',\n        netbanking: paymentMethod === 'netbanking',\n        wallet: false,\n        emi: false,\n        paylater: false\n      },\n      modal: {\n        ondismiss: () => setLoading(false)\n      }\n    };\n    const rzp = new window.Razorpay(opts);\n    rzp.on('payment.failed', function () {\n      setLoading(false);\n      alert('Payment failed');\n    });\n    rzp.open();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"buyers-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buyers-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Quick Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 38\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Step 1: Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), cartList.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buyers-empty\",\n        children: \"Your cart is empty.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 34\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"orders-list\",\n        children: cartList.map((c, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"order-item-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: c.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 58\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"x\", c.qty]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 77\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u20B9\", c.subtotal]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 96\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"total\",\n          children: [\"Total: \\u20B9\", totals.subtotal]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn primary\",\n          onClick: next,\n          disabled: cartList.length === 0,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buyers-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Step 2: Delivery Address (Kerala only)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"District\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: delivery.district,\n        onChange: e => setDelivery({\n          ...delivery,\n          district: e.target.value,\n          taluk: ''\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select district\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), KERALA_DISTRICTS.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: d,\n          children: d\n        }, d, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 39\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Taluk\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: delivery.taluk,\n        onChange: e => setDelivery({\n          ...delivery,\n          taluk: e.target.value\n        }),\n        disabled: !delivery.district,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select taluk\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this), (TALUKS_BY_DISTRICT[delivery.district] || []).map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t,\n          children: t\n        }, t, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 66\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: delivery.addressLine,\n        onChange: e => setDelivery({\n          ...delivery,\n          addressLine: e.target.value\n        }),\n        placeholder: \"House, Street, Landmark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn\",\n          onClick: back,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn primary\",\n          onClick: next,\n          style: {\n            marginLeft: 8\n          },\n          disabled: !delivery.district || !delivery.taluk || !delivery.addressLine,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Step 3: Confirm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Deliver to: \", delivery.district, \" / \", delivery.taluk, \" \\u2014 \", delivery.addressLine]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn\",\n          onClick: back,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn primary\",\n          onClick: next,\n          style: {\n            marginLeft: 8\n          },\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Step 4: Terms & Conditions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"buyers-desc\",\n        children: \"By proceeding, you agree to our shipping, returns, and data policies.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: agree,\n          onChange: e => setAgree(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), \" I agree to the Terms & Conditions\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn\",\n          onClick: back,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn primary\",\n          onClick: next,\n          style: {\n            marginLeft: 8\n          },\n          disabled: !agree,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this), step === 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-payments\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pay-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `pay-item ${paymentMethod === 'upi' ? 'active' : ''}`,\n          onClick: () => setPaymentMethod('upi'),\n          children: \"UPI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `pay-item ${paymentMethod === 'card' ? 'active' : ''}`,\n          onClick: () => setPaymentMethod('card'),\n          children: \"Credit / Debit Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `pay-item ${paymentMethod === 'netbanking' ? 'active' : ''}`,\n          onClick: () => setPaymentMethod('netbanking'),\n          children: \"Net Banking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pay-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Step 5: Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"buyers-desc\",\n          children: \"Choose your payment method and click Pay.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buyers-btn primary\",\n          onClick: proceedPayment,\n          disabled: loading,\n          children: loading ? 'Processing...' : `Pay ₹${totals.subtotal}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), step === 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Step 6: Thank you!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Your order has been placed successfully. You will be logged out in \", timer, \"s.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(QuickCheckout, \"ANYke0tTbbRd0cId6K9iF8Fzyqs=\", false, function () {\n  return [useNavigate, useAuth, useCart];\n});\n_c = QuickCheckout;\nvar _c;\n$RefreshReg$(_c, \"QuickCheckout\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","useCart","useAuth","placeOrder","createRazorpayOrder","verifyRazorpayPayment","jsxDEV","_jsxDEV","KERALA_DISTRICTS","TALUKS_BY_DISTRICT","Thiruvananthapuram","Kollam","Pathanamthitta","Alappuzha","Kottayam","Idukki","Ernakulam","Thrissur","Palakkad","Malappuram","Kozhikode","Wayanad","Kannur","Kasaragod","QuickCheckout","_s","navigate","isAuthenticated","logout","items","totals","clearCart","step","setStep","delivery","setDelivery","district","taluk","addressLine","paymentMethod","setPaymentMethod","agree","setAgree","loading","setLoading","timer","setTimer","cartList","map","i","name","qty","quantity","price","subtotal","stopped","t","setInterval","v","next","clearInterval","_","s","Math","min","back","max","proceedPayment","_res$order","payload","product","productId","type","category","unitPrice","notes","res","success","order","_id","alert","scriptOk","Promise","resolve","window","Razorpay","document","createElement","src","onload","onerror","body","appendChild","pr","opts","key","amount","currency","description","order_id","rpOrderId","handler","response","verify","razorpay_order_id","razorpay_payment_id","razorpay_signature","theme","color","method","upi","card","netbanking","wallet","emi","paylater","modal","ondismiss","rzp","on","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","c","idx","onClick","disabled","value","onChange","e","target","d","placeholder","style","marginLeft","display","alignItems","gap","checked","_c","$RefreshReg$"],"sources":["G:/holy-family-polymers/client/src/pages/buyers/QuickCheckout.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useCart } from '../../context/CartContext';\nimport { useAuth } from '../../context/AuthContext';\nimport { placeOrder, createRazorpayOrder, verifyRazorpayPayment } from '../../services/storeService';\nimport './buyers.css';\n\nconst KERALA_DISTRICTS = [\n  'Thiruvananthapuram','Kollam','Pathanamthitta','Alappuzha','Kottayam','Idukki','Ernakulam','Thrissur','Palakkad','Malappuram','Kozhikode','Wayanad','Kannur','Kasaragod'\n];\nconst TALUKS_BY_DISTRICT = {\n  Thiruvananthapuram: ['Thiruvananthapuram','Neyyattinkara','Nedumangad','Kattakkada','Varkala','Chirayinkeezhu'],\n  Kollam: ['Kollam','Kunnathoor','Karunagappally','Kottarakkara','Punalur','Pathanapuram'],\n  Pathanamthitta: ['Adoor','Konni','Kozhencherry','Ranni','Thiruvalla','Mallappally'],\n  Alappuzha: ['Alappuzha','Ambalappuzha','Cherthala','Chengannur','Karthikappally','Mavelikkara'],\n  Kottayam: ['Changanassery','Kanjirappally','Kottayam','Vaikom','Meenachil','Ettumanoor'],\n  Idukki: ['Devikulam','Peerumedu','Thodupuzha','Udumbanchola','Idukki'],\n  Ernakulam: ['Aluva','Kochi','Kothamangalam','Muvattupuzha','North Paravur','Perumbavoor','Kanayannur'],\n  Thrissur: ['Chalakudy','Chavakkad','Kodungallur','Kunnamkulam','Mukundapuram','Thalapilly','Thrissur'],\n  Palakkad: ['Alathur','Chittur','Mannarkkad','Ottapalam','Palakkad','Pattambi'],\n  Malappuram: ['Eranad','Kondotty','Nilambur','Perinthalmanna','Ponnani','Tirur','Tirurangadi'],\n  Kozhikode: ['Kozhikode','Vadakara','Koyilandy','Thamarassery'],\n  Wayanad: ['Mananthavady','Sulthan Bathery','Vythiri'],\n  Kannur: ['Iritty','Kannur','Payyannur','Taliparamba','Thalassery'],\n  Kasaragod: ['Hosdurg','Kasaragod','Manjeshwaram','Vellarikundu']\n};\n\nexport default function QuickCheckout() {\n  const navigate = useNavigate();\n  const { isAuthenticated, logout } = useAuth();\n  const { items, totals, clearCart } = useCart();\n  const [step, setStep] = useState(1);\n  const [delivery, setDelivery] = useState({ district: '', taluk: '', addressLine: '' });\n  const [paymentMethod, setPaymentMethod] = useState('upi');\n  const [agree, setAgree] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(60);\n\n  const cartList = useMemo(() => items.map(i => ({ name: i.name, qty: i.quantity, price: i.price, subtotal: i.price * i.quantity })), [items]);\n\n  useEffect(() => {\n    if (!isAuthenticated) return;\n    if (step === 6) {\n      setTimer(60);\n      let stopped = false;\n      const t = setInterval(async () => {\n        setTimer((v) => {\n          const next = v - 1;\n          if (next <= 0 && !stopped) {\n            stopped = true;\n            clearInterval(t);\n            (async () => { try { await logout(); } catch(_) {} finally { navigate('/login'); } })();\n          }\n          return next;\n        });\n      }, 1000);\n      return () => { stopped = true; clearInterval(t); };\n    }\n  }, [step, isAuthenticated, navigate, logout]);\n\n  const next = () => setStep(s => Math.min(6, s + 1));\n  const back = () => setStep(s => Math.max(1, s - 1));\n\n  const proceedPayment = async () => {\n    if (!isAuthenticated) { navigate('/login'); return; }\n    setLoading(true);\n    const payload = {\n      items: items.map(i => ({ product: i.productId, name: i.name, type: i.type, category: i.category, unitPrice: i.price, quantity: i.quantity, subtotal: i.price * i.quantity })),\n      notes: `Delivery: ${delivery.district}/${delivery.taluk} - ${delivery.addressLine}`\n    };\n    const res = await placeOrder(payload);\n    if (!res?.success || !res.order?._id) { setLoading(false); alert('Failed to place order'); return; }\n\n    const scriptOk = await new Promise((resolve) => {\n      if (window.Razorpay) return resolve(true);\n      const s = document.createElement('script'); s.src = 'https://checkout.razorpay.com/v1/checkout.js'; s.onload = () => resolve(true); s.onerror = () => resolve(false); document.body.appendChild(s);\n    });\n    if (!scriptOk) { setLoading(false); alert('Failed to load payment gateway'); return; }\n\n    const pr = await createRazorpayOrder(res.order._id);\n    if (!pr?.success) { setLoading(false); alert('Unable to initiate payment'); return; }\n\n    const opts = {\n      key: pr.key,\n      amount: pr.amount,\n      currency: pr.currency || 'INR',\n      name: 'Holy Family Polymers',\n      description: 'Order Payment',\n      order_id: pr.rpOrderId,\n      handler: async function (response) {\n        const verify = await verifyRazorpayPayment(res.order._id, {\n          razorpay_order_id: response.razorpay_order_id,\n          razorpay_payment_id: response.razorpay_payment_id,\n          razorpay_signature: response.razorpay_signature,\n        });\n        setLoading(false);\n        if (verify?.success) { clearCart(); setStep(6); } else { alert('Payment verification failed'); }\n      },\n      theme: { color: '#0f766e' },\n      method: { upi: paymentMethod==='upi', card: paymentMethod==='card', netbanking: paymentMethod==='netbanking', wallet:false, emi:false, paylater:false },\n      modal: { ondismiss: () => setLoading(false) }\n    };\n    const rzp = new window.Razorpay(opts);\n    rzp.on('payment.failed', function () { setLoading(false); alert('Payment failed'); });\n    rzp.open();\n  };\n\n  return (\n    <div className=\"buyers-container\">\n      <div className=\"buyers-header\"><h1>Quick Checkout</h1></div>\n\n      {/* Step 1: Products */}\n      {step===1 && (\n        <div className=\"checkout-panel\">\n          <h3>Step 1: Products</h3>\n          {cartList.length===0 ? <div className=\"buyers-empty\">Your cart is empty.</div> : (\n            <ul className=\"orders-list\">\n              {cartList.map((c, idx) => (\n                <li key={idx} className=\"order-item-row\"><div>{c.name}</div><div>x{c.qty}</div><div>₹{c.subtotal}</div></li>\n              ))}\n            </ul>\n          )}\n          <div className=\"cart-summary\"><div className=\"total\">Total: ₹{totals.subtotal}</div></div>\n          <div><button className=\"buyers-btn primary\" onClick={next} disabled={cartList.length===0}>Next</button></div>\n        </div>\n      )}\n\n      {/* Step 2: Delivery (Kerala only) */}\n      {step===2 && (\n        <div className=\"buyers-form\">\n          <h3>Step 2: Delivery Address (Kerala only)</h3>\n          <label>District</label>\n          <select value={delivery.district} onChange={(e)=>setDelivery({...delivery, district:e.target.value, taluk:''})}>\n            <option value=\"\">Select district</option>\n            {KERALA_DISTRICTS.map(d=> <option key={d} value={d}>{d}</option>)}\n          </select>\n          <label>Taluk</label>\n          <select value={delivery.taluk} onChange={(e)=>setDelivery({...delivery, taluk:e.target.value})} disabled={!delivery.district}>\n            <option value=\"\">Select taluk</option>\n            {(TALUKS_BY_DISTRICT[delivery.district]||[]).map(t=> <option key={t} value={t}>{t}</option>)}\n          </select>\n          <label>Address</label>\n          <input value={delivery.addressLine} onChange={(e)=>setDelivery({...delivery, addressLine:e.target.value})} placeholder=\"House, Street, Landmark\" />\n          <div>\n            <button className=\"buyers-btn\" onClick={back}>Back</button>\n            <button className=\"buyers-btn primary\" onClick={next} style={{ marginLeft: 8 }} disabled={!delivery.district || !delivery.taluk || !delivery.addressLine}>Next</button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 3: Confirm */}\n      {step===3 && (\n        <div className=\"checkout-panel\">\n          <h3>Step 3: Confirm</h3>\n          <p>Deliver to: {delivery.district} / {delivery.taluk} — {delivery.addressLine}</p>\n          <div>\n            <button className=\"buyers-btn\" onClick={back}>Back</button>\n            <button className=\"buyers-btn primary\" onClick={next} style={{ marginLeft: 8 }}>Next</button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 4: Terms */}\n      {step===4 && (\n        <div className=\"checkout-panel\">\n          <h3>Step 4: Terms & Conditions</h3>\n          <p className=\"buyers-desc\">By proceeding, you agree to our shipping, returns, and data policies.</p>\n          <label style={{ display:'flex', alignItems:'center', gap:8 }}>\n            <input type=\"checkbox\" checked={agree} onChange={(e)=>setAgree(e.target.checked)} /> I agree to the Terms & Conditions\n          </label>\n          <div>\n            <button className=\"buyers-btn\" onClick={back}>Back</button>\n            <button className=\"buyers-btn primary\" onClick={next} style={{ marginLeft: 8 }} disabled={!agree}>Next</button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 5: Payment */}\n      {step===5 && (\n        <div className=\"checkout-payments\">\n          <div className=\"pay-left\">\n            <button className={`pay-item ${paymentMethod==='upi'?'active':''}`} onClick={()=>setPaymentMethod('upi')}>UPI</button>\n            <button className={`pay-item ${paymentMethod==='card'?'active':''}`} onClick={()=>setPaymentMethod('card')}>Credit / Debit Card</button>\n            <button className={`pay-item ${paymentMethod==='netbanking'?'active':''}`} onClick={()=>setPaymentMethod('netbanking')}>Net Banking</button>\n          </div>\n          <div className=\"pay-right\">\n            <h3>Step 5: Payment</h3>\n            <p className=\"buyers-desc\">Choose your payment method and click Pay.</p>\n            <button className=\"buyers-btn primary\" onClick={proceedPayment} disabled={loading}>{loading?'Processing...':`Pay ₹${totals.subtotal}`}</button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 6: Thank you + auto logout timer */}\n      {step===6 && (\n        <div className=\"checkout-panel\">\n          <h3>Step 6: Thank you!</h3>\n          <p>Your order has been placed successfully. You will be logged out in {timer}s.</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
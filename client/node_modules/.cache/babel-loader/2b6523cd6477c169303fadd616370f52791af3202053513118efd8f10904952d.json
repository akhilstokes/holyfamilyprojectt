{"ast":null,"code":"var _jsxFileName = \"G:\\\\holy-family-polymers\\\\client\\\\src\\\\pages\\\\BuyingPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport EnquiryWizard from '../components/buying/EnquiryWizard';\nimport AuthModal from '../components/auth/AuthModal';\nimport './BuyingPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PRODUCTS = []; // Keep empty to avoid hardcoded product list; featured preview below\nconst hasProducts = PRODUCTS.length > 0;\nconst CART_STORAGE_KEY = 'buying_cart';\n\n// Inline SVG Icon Components (stroke-based, reusable)\nconst ShoppingBagIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  \"aria-hidden\": \"true\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M6 8h12l-1 12H7L6 8Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9 8a3 3 0 0 1 6 0\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 3\n}, this);\n_c = ShoppingBagIcon;\nconst CartIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  \"aria-hidden\": \"true\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 4h2l2 12h10l2-8H7\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"9\",\n    cy: \"19\",\n    r: \"1.5\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"17\",\n    cy: \"19\",\n    r: \"1.5\",\n    fill: \"currentColor\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 21,\n  columnNumber: 3\n}, this);\n_c2 = CartIcon;\nconst PackageIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  \"aria-hidden\": \"true\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 7 12 3l9 4-9 4-9-4Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 7v10l9 4 9-4V7\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 11v10\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 29,\n  columnNumber: 3\n}, this);\n\n// Specialty icons for rubber band types\n_c3 = PackageIcon;\nconst ElasticIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  \"aria-hidden\": \"true\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 12c0-4.418 3.582-8 8-8m0 16c-4.418 0-8-3.582-8-8m16 0c0 4.418-3.582 8-8 8m0-16c4.418 0 8 3.582 8 8\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 38,\n  columnNumber: 3\n}, this);\n_c4 = ElasticIcon;\nconst ShieldIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  \"aria-hidden\": \"true\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 3 5 6v6c0 4.418 3.582 7.5 7 9 3.418-1.5 7-4.582 7-9V6l-7-3Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9.5 12.5 11 14l3.5-3.5\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 44,\n  columnNumber: 3\n}, this);\n_c5 = ShieldIcon;\nconst LeafIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  \"aria-hidden\": \"true\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 5c-6 0-10 4-10 10 0 2 1 4 3 4 6 0 10-4 10-10 0-2-1-4-3-4Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9 15c2-2 5-3 8-3\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 51,\n  columnNumber: 3\n}, this);\n_c6 = LeafIcon;\nconst WaterDropIcon = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  \"aria-hidden\": \"true\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 3s6 6 6 10a6 6 0 1 1-12 0c0-4 6-10 6-10Z\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M9 14a3 3 0 0 0 6 0\",\n    stroke: \"currentColor\",\n    strokeWidth: \"1.5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 58,\n  columnNumber: 3\n}, this);\n_c7 = WaterDropIcon;\nconst BuyingPage = () => {\n  _s();\n  const [cart, setCart] = useState({}); // { productId: quantity }\n  const [search, setSearch] = useState('');\n  const [wizardOpen, setWizardOpen] = useState(false);\n  const [authOpen, setAuthOpen] = useState(false);\n  const navigate = useNavigate();\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n\n  // Restore cart from localStorage so users don't lose selections after login\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(CART_STORAGE_KEY);\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        if (parsed && typeof parsed === 'object') setCart(parsed);\n      }\n    } catch (_) {}\n  }, []);\n\n  // Persist cart on change\n  useEffect(() => {\n    try {\n      localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));\n    } catch (_) {}\n  }, [cart]);\n  const addToCart = productId => {\n    setCart(prev => ({\n      ...prev,\n      [productId]: (prev[productId] || 0) + 1\n    }));\n  };\n  const updateQty = (productId, qty) => {\n    const q = Math.max(0, Number(qty) || 0);\n    setCart(prev => ({\n      ...prev,\n      [productId]: q\n    }));\n  };\n  const removeItem = productId => {\n    setCart(prev => {\n      const next = {\n        ...prev\n      };\n      delete next[productId];\n      return next;\n    });\n  };\n  const items = Object.entries(cart).filter(([_, q]) => q > 0);\n  const subtotal = items.reduce((sum, [id, q]) => {\n    const p = PRODUCTS.find(x => x.id === id);\n    return sum + (p ? p.price * q : 0);\n  }, 0);\n  const handleCheckout = () => {\n    if (!isAuthenticated) {\n      try {\n        localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));\n      } catch (_) {}\n      navigate('/login', {\n        state: {\n          from: '/buying'\n        }\n      });\n      return;\n    }\n    setWizardOpen(true);\n  };\n  const filteredProducts = PRODUCTS.filter(p => {\n    const q = search.trim().toLowerCase();\n    if (!q) return true;\n    return p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q);\n  });\n  const cartItemsForWizard = useMemo(() => items.map(([id, qty]) => ({\n    id,\n    qty\n  })), [items]);\n\n  // Featured types (visual cards independent from PRODUCTS)\n  const featuredTypes = [{\n    key: 'premium',\n    title: 'Premium Bands',\n    desc: 'Smooth finish, high elasticity for everyday use.',\n    Icon: ElasticIcon\n  }, {\n    key: 'industrial',\n    title: 'Industrial Grade',\n    desc: 'High tensile strength for heavy packaging.',\n    Icon: ShieldIcon\n  }, {\n    key: 'eco',\n    title: 'Eco-Friendly',\n    desc: 'Biodegradable, sustainably sourced materials.',\n    Icon: LeafIcon\n  }, {\n    key: 'water',\n    title: 'Water Resistant',\n    desc: 'Moisture-resistant bands for outdoor usage.',\n    Icon: WaterDropIcon\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"buying-page premium-bg\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"buying-hero premium-gradient\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero-orbs\",\n        \"aria-hidden\": \"true\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"orb orb-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"orb orb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"orb orb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buying-hero__content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"hero-title animated-title\",\n          children: \"Buy Rubber Bands\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"hero-subtitle fade-in-delay\",\n          children: \"Premium quality rubber bands engineered for performance, durability, and sustainability.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero-icons\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingBagIcon, {\n            className: \"svg-icon svg-float\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CartIcon, {\n            className: \"svg-icon svg-float delay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PackageIcon, {\n            className: \"svg-icon svg-float delay2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hero-cta\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary btn-glow\",\n            onClick: () => setAuthOpen(true),\n            children: \"Shop Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"featured-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"featured-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title fade-in\",\n          children: \"Featured Rubber Band Types\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"section-subtitle fade-in-delay\",\n          children: \"Explore our most popular categories, carefully crafted with premium materials and tested for reliability.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"types-grid\",\n        children: featuredTypes.map(({\n          key,\n          title,\n          desc,\n          Icon\n        }, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"type-card slide-up\",\n          style: {\n            animationDelay: `${0.1 * (idx + 1)}s`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"type-icon-wrap\",\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              className: \"type-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary ghost\",\n            onClick: () => setAuthOpen(true),\n            children: \"View Options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), hasProducts && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"buying-search\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: search,\n          onChange: e => setSearch(e.target.value),\n          placeholder: \"Search products (e.g., premium, industrial)\",\n          className: \"search-input\",\n          \"aria-label\": \"Search products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"products\",\n        className: \"product-grid\",\n        children: filteredProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted\",\n          children: \"No products match your search.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }, this) : filteredProducts.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-image\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: p.image,\n              alt: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-desc\",\n              children: p.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-meta\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"product-price\",\n                children: [\"\\u20B9\", p.price, \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: p.unit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 66\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: () => addToCart(p.id),\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"qty-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: `qty-${p.id}`,\n                children: \"Qty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: `qty-${p.id}`,\n                type: \"number\",\n                min: \"0\",\n                value: cart[p.id] || 0,\n                onChange: e => updateQty(p.id, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 19\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(EnquiryWizard, {\n      open: wizardOpen,\n      onClose: () => setWizardOpen(false),\n      cartItems: cartItemsForWizard,\n      products: PRODUCTS,\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AuthModal, {\n      open: authOpen,\n      onClose: () => setAuthOpen(false),\n      onSuccess: () => {\n        setAuthOpen(false);\n        setWizardOpen(true);\n      },\n      compact: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(BuyingPage, \"MlgY/0SKvI8wCpwI6kCXIMjkOs4=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c8 = BuyingPage;\nexport default BuyingPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"ShoppingBagIcon\");\n$RefreshReg$(_c2, \"CartIcon\");\n$RefreshReg$(_c3, \"PackageIcon\");\n$RefreshReg$(_c4, \"ElasticIcon\");\n$RefreshReg$(_c5, \"ShieldIcon\");\n$RefreshReg$(_c6, \"LeafIcon\");\n$RefreshReg$(_c7, \"WaterDropIcon\");\n$RefreshReg$(_c8, \"BuyingPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","useAuth","EnquiryWizard","AuthModal","jsxDEV","_jsxDEV","Fragment","_Fragment","PRODUCTS","hasProducts","length","CART_STORAGE_KEY","ShoppingBagIcon","className","viewBox","fill","children","d","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","_c","CartIcon","cx","cy","r","_c2","PackageIcon","_c3","ElasticIcon","_c4","ShieldIcon","_c5","LeafIcon","_c6","WaterDropIcon","_c7","BuyingPage","_s","cart","setCart","search","setSearch","wizardOpen","setWizardOpen","authOpen","setAuthOpen","navigate","isAuthenticated","user","saved","localStorage","getItem","parsed","JSON","parse","_","setItem","stringify","addToCart","productId","prev","updateQty","qty","q","Math","max","Number","removeItem","next","items","Object","entries","filter","subtotal","reduce","sum","id","p","find","x","price","handleCheckout","state","from","filteredProducts","trim","toLowerCase","name","includes","desc","cartItemsForWizard","map","featuredTypes","key","title","Icon","onClick","idx","style","animationDelay","type","value","onChange","e","target","placeholder","src","image","alt","unit","htmlFor","min","open","onClose","cartItems","products","onSuccess","compact","_c8","$RefreshReg$"],"sources":["G:/holy-family-polymers/client/src/pages/BuyingPage.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport EnquiryWizard from '../components/buying/EnquiryWizard';\r\nimport AuthModal from '../components/auth/AuthModal';\r\nimport './BuyingPage.css';\r\n\r\nconst PRODUCTS = []; // Keep empty to avoid hardcoded product list; featured preview below\r\nconst hasProducts = PRODUCTS.length > 0;\r\nconst CART_STORAGE_KEY = 'buying_cart';\r\n\r\n// Inline SVG Icon Components (stroke-based, reusable)\r\nconst ShoppingBagIcon = ({ className }) => (\r\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M6 8h12l-1 12H7L6 8Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <path d=\"M9 8a3 3 0 0 1 6 0\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n  </svg>\r\n);\r\n\r\nconst CartIcon = ({ className }) => (\r\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M3 4h2l2 12h10l2-8H7\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <circle cx=\"9\" cy=\"19\" r=\"1.5\" fill=\"currentColor\" />\r\n    <circle cx=\"17\" cy=\"19\" r=\"1.5\" fill=\"currentColor\" />\r\n  </svg>\r\n);\r\n\r\nconst PackageIcon = ({ className }) => (\r\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M3 7 12 3l9 4-9 4-9-4Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <path d=\"M3 7v10l9 4 9-4V7\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <path d=\"M12 11v10\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n  </svg>\r\n);\r\n\r\n// Specialty icons for rubber band types\r\nconst ElasticIcon = ({ className }) => (\r\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M4 12c0-4.418 3.582-8 8-8m0 16c-4.418 0-8-3.582-8-8m16 0c0 4.418-3.582 8-8 8m0-16c4.418 0 8 3.582 8 8\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n  </svg>\r\n);\r\n\r\nconst ShieldIcon = ({ className }) => (\r\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M12 3 5 6v6c0 4.418 3.582 7.5 7 9 3.418-1.5 7-4.582 7-9V6l-7-3Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <path d=\"M9.5 12.5 11 14l3.5-3.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n  </svg>\r\n);\r\n\r\nconst LeafIcon = ({ className }) => (\r\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M19 5c-6 0-10 4-10 10 0 2 1 4 3 4 6 0 10-4 10-10 0-2-1-4-3-4Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <path d=\"M9 15c2-2 5-3 8-3\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n  </svg>\r\n);\r\n\r\nconst WaterDropIcon = ({ className }) => (\r\n  <svg className={className} viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n    <path d=\"M12 3s6 6 6 10a6 6 0 1 1-12 0c0-4 6-10 6-10Z\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n    <path d=\"M9 14a3 3 0 0 0 6 0\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\r\n  </svg>\r\n);\r\n\r\nconst BuyingPage = () => {\r\n  const [cart, setCart] = useState({}); // { productId: quantity }\r\n  const [search, setSearch] = useState('');\r\n  const [wizardOpen, setWizardOpen] = useState(false);\r\n  const [authOpen, setAuthOpen] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated, user } = useAuth();\r\n\r\n  // Restore cart from localStorage so users don't lose selections after login\r\n  useEffect(() => {\r\n    try {\r\n      const saved = localStorage.getItem(CART_STORAGE_KEY);\r\n      if (saved) {\r\n        const parsed = JSON.parse(saved);\r\n        if (parsed && typeof parsed === 'object') setCart(parsed);\r\n      }\r\n    } catch (_) {}\r\n  }, []);\r\n\r\n  // Persist cart on change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));\r\n    } catch (_) {}\r\n  }, [cart]);\r\n\r\n  const addToCart = (productId) => {\r\n    setCart((prev) => ({ ...prev, [productId]: (prev[productId] || 0) + 1 }));\r\n  };\r\n\r\n  const updateQty = (productId, qty) => {\r\n    const q = Math.max(0, Number(qty) || 0);\r\n    setCart((prev) => ({ ...prev, [productId]: q }));\r\n  };\r\n\r\n  const removeItem = (productId) => {\r\n    setCart((prev) => {\r\n      const next = { ...prev };\r\n      delete next[productId];\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const items = Object.entries(cart).filter(([_, q]) => q > 0);\r\n  const subtotal = items.reduce((sum, [id, q]) => {\r\n    const p = PRODUCTS.find((x) => x.id === id);\r\n    return sum + (p ? p.price * q : 0);\r\n  }, 0);\r\n\r\n  const handleCheckout = () => {\r\n    if (!isAuthenticated) {\r\n      try { localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart)); } catch (_) {}\r\n      navigate('/login', { state: { from: '/buying' } });\r\n      return;\r\n    }\r\n    setWizardOpen(true);\r\n  };\r\n\r\n  const filteredProducts = PRODUCTS.filter((p) => {\r\n    const q = search.trim().toLowerCase();\r\n    if (!q) return true;\r\n    return p.name.toLowerCase().includes(q) || p.desc.toLowerCase().includes(q);\r\n  });\r\n\r\n  const cartItemsForWizard = useMemo(() => items.map(([id, qty]) => ({ id, qty })), [items]);\r\n\r\n  // Featured types (visual cards independent from PRODUCTS)\r\n  const featuredTypes = [\r\n    { key: 'premium', title: 'Premium Bands', desc: 'Smooth finish, high elasticity for everyday use.', Icon: ElasticIcon },\r\n    { key: 'industrial', title: 'Industrial Grade', desc: 'High tensile strength for heavy packaging.', Icon: ShieldIcon },\r\n    { key: 'eco', title: 'Eco-Friendly', desc: 'Biodegradable, sustainably sourced materials.', Icon: LeafIcon },\r\n    { key: 'water', title: 'Water Resistant', desc: 'Moisture-resistant bands for outdoor usage.', Icon: WaterDropIcon },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"buying-page premium-bg\">\r\n      {/* Premium Hero */}\r\n      <header className=\"buying-hero premium-gradient\">\r\n        {/* Subtle background orbs */}\r\n        <div className=\"hero-orbs\" aria-hidden=\"true\">\r\n          <span className=\"orb orb-1\" />\r\n          <span className=\"orb orb-2\" />\r\n          <span className=\"orb orb-3\" />\r\n        </div>\r\n\r\n        <div className=\"buying-hero__content\">\r\n          <h1 className=\"hero-title animated-title\">Buy Rubber Bands</h1>\r\n          <p className=\"hero-subtitle fade-in-delay\">\r\n            Premium quality rubber bands engineered for performance, durability, and sustainability.\r\n          </p>\r\n\r\n          <div className=\"hero-icons\">\r\n            <ShoppingBagIcon className=\"svg-icon svg-float\" />\r\n            <CartIcon className=\"svg-icon svg-float delay\" />\r\n            <PackageIcon className=\"svg-icon svg-float delay2\" />\r\n          </div>\r\n\r\n          <div className=\"hero-cta\">\r\n            <button className=\"btn-primary btn-glow\" onClick={() => setAuthOpen(true)}>\r\n              Shop Now\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Featured Types (Premium Cards) */}\r\n      <section className=\"featured-section\">\r\n        <div className=\"featured-header\">\r\n          <h2 className=\"section-title fade-in\">Featured Rubber Band Types</h2>\r\n          <p className=\"section-subtitle fade-in-delay\">\r\n            Explore our most popular categories, carefully crafted with premium materials and tested for reliability.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"types-grid\">\r\n          {featuredTypes.map(({ key, title, desc, Icon }, idx) => (\r\n            <div className=\"type-card slide-up\" style={{ animationDelay: `${0.1 * (idx + 1)}s` }} key={key}>\r\n              <div className=\"type-icon-wrap\">\r\n                <Icon className=\"type-icon\" />\r\n              </div>\r\n              <h3>{title}</h3>\r\n              <p>{desc}</p>\r\n              <button className=\"btn-secondary ghost\" onClick={() => setAuthOpen(true)}>View Options</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Optional: Products list (only rendered if PRODUCTS provided elsewhere) */}\r\n      {hasProducts && (\r\n        <>\r\n          <section className=\"buying-search\">\r\n            <input\r\n              type=\"text\"\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n              placeholder=\"Search products (e.g., premium, industrial)\"\r\n              className=\"search-input\"\r\n              aria-label=\"Search products\"\r\n            />\r\n          </section>\r\n\r\n          <section id=\"products\" className=\"product-grid\">\r\n            {filteredProducts.length === 0 ? (\r\n              <div className=\"muted\">No products match your search.</div>\r\n            ) : (\r\n              filteredProducts.map((p) => (\r\n                <div key={p.id} className=\"product-card\">\r\n                  <div className=\"product-image\">\r\n                    <img src={p.image} alt={p.name} />\r\n                  </div>\r\n                  <div className=\"product-info\">\r\n                    <h3>{p.name}</h3>\r\n                    <p className=\"product-desc\">{p.desc}</p>\r\n                    <div className=\"product-meta\">\r\n                      <span className=\"product-price\">â‚¹{p.price} <small>{p.unit}</small></span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"product-actions\">\r\n                    <button className=\"btn-secondary\" onClick={() => addToCart(p.id)}>Add to Cart</button>\r\n                    <div className=\"qty-row\">\r\n                      <label htmlFor={`qty-${p.id}`}>Qty</label>\r\n                      <input\r\n                        id={`qty-${p.id}`}\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        value={cart[p.id] || 0}\r\n                        onChange={(e) => updateQty(p.id, e.target.value)}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </section>\r\n        </>\r\n      )}\r\n\r\n      {/* Enquiry Wizard */}\r\n      <EnquiryWizard\r\n        open={wizardOpen}\r\n        onClose={() => setWizardOpen(false)}\r\n        cartItems={cartItemsForWizard}\r\n        products={PRODUCTS}\r\n        user={user}\r\n      />\r\n\r\n      {/* Auth flow before opening wizard */}\r\n      <AuthModal\r\n        open={authOpen}\r\n        onClose={() => setAuthOpen(false)}\r\n        onSuccess={() => {\r\n          setAuthOpen(false);\r\n          setWizardOpen(true);\r\n        }}\r\n        compact\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BuyingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MySubmissions=()=>{const[submissions,setSubmissions]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchSubmissions=async()=>{try{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};const res=await axios.get('/api/users/my-submissions',config);setSubmissions(res.data);}catch(err){setError('Failed to fetch submissions.');}finally{setLoading(false);}};fetchSubmissions();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading submissions...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Submission History\"}),submissions.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"You have not made any submissions yet.\"}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Volume (L)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DRC %\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount (\\u20B9)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:submissions.map(sub=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(sub.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:sub.latexVolume}),/*#__PURE__*/_jsx(\"td\",{children:sub.drcPercentage}),/*#__PURE__*/_jsx(\"td\",{children:sub.calculatedAmount.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:sub.status})]},sub._id))})]})]});};export default MySubmissions;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","MySubmissions","submissions","setSubmissions","loading","setLoading","error","setError","fetchSubmissions","token","localStorage","getItem","config","headers","Authorization","concat","res","get","data","err","children","style","color","length","map","sub","Date","createdAt","toLocaleDateString","latexVolume","drcPercentage","calculatedAmount","toFixed","status","_id"],"sources":["G:/holy-family-polymers/client/src/pages/user_dashboard/MySubmissions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst MySubmissions = () => {\r\n    const [submissions, setSubmissions] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchSubmissions = async () => {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                const config = {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`\r\n                    }\r\n                };\r\n                const res = await axios.get('/api/users/my-submissions', config);\r\n                setSubmissions(res.data);\r\n            } catch (err) {\r\n                setError('Failed to fetch submissions.');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchSubmissions();\r\n    }, []);\r\n\r\n    if (loading) return <p>Loading submissions...</p>;\r\n    if (error) return <p style={{ color: 'red' }}>{error}</p>;\r\n\r\n    return (\r\n        <div>\r\n            <h2>My Submission History</h2>\r\n            {submissions.length === 0 ? (\r\n                <p>You have not made any submissions yet.</p>\r\n            ) : (\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Date</th>\r\n                            <th>Volume (L)</th>\r\n                            <th>DRC %</th>\r\n                            <th>Amount (â‚¹)</th>\r\n                            <th>Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {submissions.map(sub => (\r\n                            <tr key={sub._id}>\r\n                                <td>{new Date(sub.createdAt).toLocaleDateString()}</td>\r\n                                <td>{sub.latexVolume}</td>\r\n                                <td>{sub.drcPercentage}</td>\r\n                                <td>{sub.calculatedAmount.toFixed(2)}</td>\r\n                                <td>{sub.status}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MySubmissions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
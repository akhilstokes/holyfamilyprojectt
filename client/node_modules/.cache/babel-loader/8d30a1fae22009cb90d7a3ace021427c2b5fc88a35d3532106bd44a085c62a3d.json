{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LiveRatePage(){const[marketRate,setMarketRate]=useState(\"\");const[companyRate,setCompanyRate]=useState(\"\");const[message,setMessage]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();try{const token=localStorage.getItem(\"token\");// JWT stored after login\nconst res=await axios.post(\"/api/rates/update\",{marketRate,companyRate},{headers:{Authorization:\"Bearer \".concat(token)}});setMessage(res.data.message);setMarketRate(\"\");setCompanyRate(\"\");}catch(error){var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Error updating rate\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"live-rate-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update Live Rate\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Daily Market Rate:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:marketRate,onChange:e=>setMarketRate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company Buying Rate:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:companyRate,onChange:e=>setCompanyRate(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Rate\"})]})]});}export default LiveRatePage;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","LiveRatePage","marketRate","setMarketRate","companyRate","setCompanyRate","message","setMessage","handleSubmit","e","preventDefault","token","localStorage","getItem","res","post","headers","Authorization","concat","data","error","_error$response","_error$response$data","response","className","children","onSubmit","type","value","onChange","target","required"],"sources":["G:/holy-family-polymers/client/src/pages/admin_dashboard/LiveRatePage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction LiveRatePage() {\r\n  const [marketRate, setMarketRate] = useState(\"\");\r\n  const [companyRate, setCompanyRate] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem(\"token\"); // JWT stored after login\r\n      const res = await axios.post(\r\n        \"/api/rates/update\",\r\n        { marketRate, companyRate },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setMessage(res.data.message);\r\n      setMarketRate(\"\");\r\n      setCompanyRate(\"\");\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || \"Error updating rate\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"live-rate-page\">\r\n      <h1>Update Live Rate</h1>\r\n      {message && <p>{message}</p>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Daily Market Rate:</label>\r\n          <input\r\n            type=\"number\"\r\n            value={marketRate}\r\n            onChange={(e) => setMarketRate(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Company Buying Rate:</label>\r\n          <input\r\n            type=\"number\"\r\n            value={companyRate}\r\n            onChange={(e) => setCompanyRate(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Update Rate</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LiveRatePage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAa,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE;AAC7C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAlB,KAAK,CAACmB,IAAI,CAC1B,mBAAmB,CACnB,CAAEb,UAAU,CAAEE,WAAY,CAAC,CAC3B,CAAEY,OAAO,CAAE,CAAEC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAAG,CAAE,CAClD,CAAC,CACDJ,UAAU,CAACO,GAAG,CAACK,IAAI,CAACb,OAAO,CAAC,CAC5BH,aAAa,CAAC,EAAE,CAAC,CACjBE,cAAc,CAAC,EAAE,CAAC,CACpB,CAAE,MAAOe,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACdf,UAAU,CAAC,EAAAc,eAAA,CAAAD,KAAK,CAACG,QAAQ,UAAAF,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBF,IAAI,UAAAG,oBAAA,iBAApBA,oBAAA,CAAsBhB,OAAO,GAAI,qBAAqB,CAAC,CACpE,CACF,CAAC,CAED,mBACEN,KAAA,QAAKwB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B3B,IAAA,OAAA2B,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACxBnB,OAAO,eAAIR,IAAA,MAAA2B,QAAA,CAAInB,OAAO,CAAI,CAAC,cAC5BN,KAAA,SAAM0B,QAAQ,CAAElB,YAAa,CAAAiB,QAAA,eAC3BzB,KAAA,QAAAyB,QAAA,eACE3B,IAAA,UAAA2B,QAAA,CAAO,oBAAkB,CAAO,CAAC,cACjC3B,IAAA,UACE6B,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAE1B,UAAW,CAClB2B,QAAQ,CAAGpB,CAAC,EAAKN,aAAa,CAACM,CAAC,CAACqB,MAAM,CAACF,KAAK,CAAE,CAC/CG,QAAQ,MACT,CAAC,EACC,CAAC,cACN/B,KAAA,QAAAyB,QAAA,eACE3B,IAAA,UAAA2B,QAAA,CAAO,sBAAoB,CAAO,CAAC,cACnC3B,IAAA,UACE6B,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAExB,WAAY,CACnByB,QAAQ,CAAGpB,CAAC,EAAKJ,cAAc,CAACI,CAAC,CAACqB,MAAM,CAACF,KAAK,CAAE,CAChDG,QAAQ,MACT,CAAC,EACC,CAAC,cACNjC,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,aAAW,CAAQ,CAAC,EACtC,CAAC,EACJ,CAAC,CAEV,CAEA,cAAe,CAAAxB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
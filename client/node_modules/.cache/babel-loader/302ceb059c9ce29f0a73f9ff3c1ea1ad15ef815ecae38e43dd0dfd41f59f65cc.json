{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import'./AIDoubtResolver.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AIDoubtResolver=()=>{const[messages,setMessages]=useState([{id:1,type:'ai',content:\"Hello! I'm your AI assistant for rubber-related questions. I can help you with:\\n\\n• Rubber properties and characteristics\\n• Manufacturing processes\\n• Quality standards and testing\\n• Market trends and pricing\\n• Technical specifications\\n• Troubleshooting common issues\\n\\nWhat would you like to know about rubber?\",timestamp:new Date()}]);const[inputMessage,setInputMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);const handleSendMessage=async()=>{if(!inputMessage.trim()||isLoading)return;const userMessage={id:Date.now(),type:'user',content:inputMessage,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setIsLoading(true);try{const response=await fetch('/api/ai/doubt-resolver',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({question:inputMessage})});const data=await response.json();const aiMessage={id:Date.now()+1,type:'ai',content:data.answer||\"I'm sorry, I couldn't process your question at the moment. Please try again.\",timestamp:new Date()};setMessages(prev=>[...prev,aiMessage]);}catch(error){console.error('Error sending message:',error);const errorMessage={id:Date.now()+1,type:'ai',content:\"I'm experiencing technical difficulties. Please try again in a moment.\",timestamp:new Date()};setMessages(prev=>[...prev,errorMessage]);}finally{setIsLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};const formatTimestamp=timestamp=>{return timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const suggestedQuestions=[\"What are the different types of rubber?\",\"How do I test rubber quality?\",\"What affects rubber pricing?\",\"How to prevent rubber degradation?\",\"What are rubber processing methods?\"];const handleSuggestedQuestion=question=>{setInputMessage(question);};return/*#__PURE__*/_jsxs(\"div\",{className:\"ai-doubt-resolver\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ai-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ai-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-robot\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"AI Rubber Expert\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"ai-subtitle\",children:\"Ask me anything about rubber, manufacturing, or industry standards\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"messages-container\",children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.type),children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.content.split('\\n').map((line,index)=>/*#__PURE__*/_jsx(\"p\",{children:line},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"message-time\",children:formatTimestamp(message.timestamp)})]})},message.id)),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"message ai\",children:/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"typing-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),messages.length===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"suggested-questions\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Popular Questions:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"suggestions-grid\",children:suggestedQuestions.map((question,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"suggestion-chip\",onClick:()=>handleSuggestedQuestion(question),children:question},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrapper\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask me anything about rubber...\",className:\"message-input\",rows:\"1\",disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!inputMessage.trim()||isLoading,className:\"send-button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane\"})})]})})]})]});};export default AIDoubtResolver;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","AIDoubtResolver","messages","setMessages","id","type","content","timestamp","Date","inputMessage","setInputMessage","isLoading","setIsLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","now","prev","response","fetch","method","headers","concat","localStorage","getItem","body","JSON","stringify","question","data","json","aiMessage","answer","error","console","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","formatTimestamp","toLocaleTimeString","hour","minute","suggestedQuestions","handleSuggestedQuestion","className","children","map","message","split","line","index","ref","length","onClick","value","onChange","target","onKeyPress","placeholder","rows","disabled"],"sources":["G:/holy-family-polymers/client/src/pages/user_dashboard/AIDoubtResolver.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './AIDoubtResolver.css';\r\n\r\nconst AIDoubtResolver = () => {\r\n    const [messages, setMessages] = useState([\r\n        {\r\n            id: 1,\r\n            type: 'ai',\r\n            content: \"Hello! I'm your AI assistant for rubber-related questions. I can help you with:\\n\\n• Rubber properties and characteristics\\n• Manufacturing processes\\n• Quality standards and testing\\n• Market trends and pricing\\n• Technical specifications\\n• Troubleshooting common issues\\n\\nWhat would you like to know about rubber?\",\r\n            timestamp: new Date()\r\n        }\r\n    ]);\r\n    const [inputMessage, setInputMessage] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const messagesEndRef = useRef(null);\r\n\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const handleSendMessage = async () => {\r\n        if (!inputMessage.trim() || isLoading) return;\r\n\r\n        const userMessage = {\r\n            id: Date.now(),\r\n            type: 'user',\r\n            content: inputMessage,\r\n            timestamp: new Date()\r\n        };\r\n\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInputMessage('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await fetch('/api/ai/doubt-resolver', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n                },\r\n                body: JSON.stringify({ question: inputMessage })\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            const aiMessage = {\r\n                id: Date.now() + 1,\r\n                type: 'ai',\r\n                content: data.answer || \"I'm sorry, I couldn't process your question at the moment. Please try again.\",\r\n                timestamp: new Date()\r\n            };\r\n\r\n            setMessages(prev => [...prev, aiMessage]);\r\n        } catch (error) {\r\n            console.error('Error sending message:', error);\r\n            const errorMessage = {\r\n                id: Date.now() + 1,\r\n                type: 'ai',\r\n                content: \"I'm experiencing technical difficulties. Please try again in a moment.\",\r\n                timestamp: new Date()\r\n            };\r\n            setMessages(prev => [...prev, errorMessage]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            e.preventDefault();\r\n            handleSendMessage();\r\n        }\r\n    };\r\n\r\n    const formatTimestamp = (timestamp) => {\r\n        return timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n    };\r\n\r\n    const suggestedQuestions = [\r\n        \"What are the different types of rubber?\",\r\n        \"How do I test rubber quality?\",\r\n        \"What affects rubber pricing?\",\r\n        \"How to prevent rubber degradation?\",\r\n        \"What are rubber processing methods?\"\r\n    ];\r\n\r\n    const handleSuggestedQuestion = (question) => {\r\n        setInputMessage(question);\r\n    };\r\n\r\n    return (\r\n        <div className=\"ai-doubt-resolver\">\r\n            <div className=\"ai-header\">\r\n                <div className=\"ai-title\">\r\n                    <i className=\"fas fa-robot\"></i>\r\n                    <h2>AI Rubber Expert</h2>\r\n                </div>\r\n                <p className=\"ai-subtitle\">Ask me anything about rubber, manufacturing, or industry standards</p>\r\n            </div>\r\n\r\n            <div className=\"chat-container\">\r\n                <div className=\"messages-container\">\r\n                    {messages.map((message) => (\r\n                        <div key={message.id} className={`message ${message.type}`}>\r\n                            <div className=\"message-content\">\r\n                                <div className=\"message-text\">\r\n                                    {message.content.split('\\n').map((line, index) => (\r\n                                        <p key={index}>{line}</p>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"message-time\">\r\n                                    {formatTimestamp(message.timestamp)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    {isLoading && (\r\n                        <div className=\"message ai\">\r\n                            <div className=\"message-content\">\r\n                                <div className=\"typing-indicator\">\r\n                                    <span></span>\r\n                                    <span></span>\r\n                                    <span></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <div ref={messagesEndRef} />\r\n                </div>\r\n\r\n                {messages.length === 1 && (\r\n                    <div className=\"suggested-questions\">\r\n                        <h4>Popular Questions:</h4>\r\n                        <div className=\"suggestions-grid\">\r\n                            {suggestedQuestions.map((question, index) => (\r\n                                <button\r\n                                    key={index}\r\n                                    className=\"suggestion-chip\"\r\n                                    onClick={() => handleSuggestedQuestion(question)}\r\n                                >\r\n                                    {question}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"input-container\">\r\n                    <div className=\"input-wrapper\">\r\n                        <textarea\r\n                            value={inputMessage}\r\n                            onChange={(e) => setInputMessage(e.target.value)}\r\n                            onKeyPress={handleKeyPress}\r\n                            placeholder=\"Ask me anything about rubber...\"\r\n                            className=\"message-input\"\r\n                            rows=\"1\"\r\n                            disabled={isLoading}\r\n                        />\r\n                        <button\r\n                            onClick={handleSendMessage}\r\n                            disabled={!inputMessage.trim() || isLoading}\r\n                            className=\"send-button\"\r\n                        >\r\n                            <i className=\"fas fa-paper-plane\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AIDoubtResolver;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
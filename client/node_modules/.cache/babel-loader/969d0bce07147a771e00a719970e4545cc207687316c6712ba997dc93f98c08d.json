{"ast":null,"code":"// client/src/pages/user_dashboard/RateHistory.js\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserRateHistory=()=>{const[history,setHistory]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchRates=async()=>{try{const res=await axios.get(\"/api/rates/history\");// âœ… Backend route\nsetHistory(res.data);}catch(error){console.error(\"Error fetching rate history:\",error);}finally{setLoading(false);}};fetchRates();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading rate history...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"\\uD83D\\uDCCA Rate History\"}),history.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No rate history found.\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border border-gray-300 shadow-md rounded-lg\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Rate Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Value\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Updated By\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:history.map(rate=>{var _rate$updatedBy;return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:new Date(rate.effectiveDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:rate.rateType}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 border\",children:[\"\\u20B9\",rate.rateValue]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:((_rate$updatedBy=rate.updatedBy)===null||_rate$updatedBy===void 0?void 0:_rate$updatedBy.name)||\"Admin\"})]},rate._id);})})]})]});};export default UserRateHistory;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","UserRateHistory","history","setHistory","loading","setLoading","fetchRates","res","get","data","error","console","children","className","length","map","rate","_rate$updatedBy","Date","effectiveDate","toLocaleDateString","rateType","rateValue","updatedBy","name","_id"],"sources":["G:/holy-family-polymers/client/src/pages/user_dashboard/UserRateHistory.js"],"sourcesContent":["// client/src/pages/user_dashboard/RateHistory.js\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst UserRateHistory = () => {\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchRates = async () => {\n      try {\n        const res = await axios.get(\"/api/rates/history\"); // âœ… Backend route\n        setHistory(res.data);\n      } catch (error) {\n        console.error(\"Error fetching rate history:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchRates();\n  }, []);\n\n  if (loading) return <p>Loading rate history...</p>;\n\n  return (\n    <div className=\"p-6\">\n      <h2 className=\"text-xl font-bold mb-4\">ðŸ“Š Rate History</h2>\n      {history.length === 0 ? (\n        <p>No rate history found.</p>\n      ) : (\n        <table className=\"w-full border border-gray-300 shadow-md rounded-lg\">\n          <thead>\n            <tr className=\"bg-gray-100\">\n              <th className=\"p-2 border\">Date</th>\n              <th className=\"p-2 border\">Rate Type</th>\n              <th className=\"p-2 border\">Value</th>\n              <th className=\"p-2 border\">Updated By</th>\n            </tr>\n          </thead>\n          <tbody>\n            {history.map((rate) => (\n              <tr key={rate._id} className=\"text-center\">\n                <td className=\"p-2 border\">\n                  {new Date(rate.effectiveDate).toLocaleDateString()}\n                </td>\n                <td className=\"p-2 border\">{rate.rateType}</td>\n                <td className=\"p-2 border\">â‚¹{rate.rateValue}</td>\n                <td className=\"p-2 border\">\n                  {rate.updatedBy?.name || \"Admin\"}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n};\n\nexport default UserRateHistory;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAX,KAAK,CAACY,GAAG,CAAC,oBAAoB,CAAC,CAAE;AACnDL,UAAU,CAACI,GAAG,CAACE,IAAI,CAAC,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CAAC,OAAS,CACRL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDC,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,OAAO,CAAE,mBAAON,IAAA,MAAAc,QAAA,CAAG,yBAAuB,CAAG,CAAC,CAElD,mBACEZ,KAAA,QAAKa,SAAS,CAAC,KAAK,CAAAD,QAAA,eAClBd,IAAA,OAAIe,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAC,2BAAe,CAAI,CAAC,CAC1DV,OAAO,CAACY,MAAM,GAAK,CAAC,cACnBhB,IAAA,MAAAc,QAAA,CAAG,wBAAsB,CAAG,CAAC,cAE7BZ,KAAA,UAAOa,SAAS,CAAC,oDAAoD,CAAAD,QAAA,eACnEd,IAAA,UAAAc,QAAA,cACEZ,KAAA,OAAIa,SAAS,CAAC,aAAa,CAAAD,QAAA,eACzBd,IAAA,OAAIe,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cACpCd,IAAA,OAAIe,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,WAAS,CAAI,CAAC,cACzCd,IAAA,OAAIe,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,OAAK,CAAI,CAAC,cACrCd,IAAA,OAAIe,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,YAAU,CAAI,CAAC,EACxC,CAAC,CACA,CAAC,cACRd,IAAA,UAAAc,QAAA,CACGV,OAAO,CAACa,GAAG,CAAEC,IAAI,OAAAC,eAAA,oBAChBjB,KAAA,OAAmBa,SAAS,CAAC,aAAa,CAAAD,QAAA,eACxCd,IAAA,OAAIe,SAAS,CAAC,YAAY,CAAAD,QAAA,CACvB,GAAI,CAAAM,IAAI,CAACF,IAAI,CAACG,aAAa,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAChD,CAAC,cACLtB,IAAA,OAAIe,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEI,IAAI,CAACK,QAAQ,CAAK,CAAC,cAC/CrB,KAAA,OAAIa,SAAS,CAAC,YAAY,CAAAD,QAAA,EAAC,QAAC,CAACI,IAAI,CAACM,SAAS,EAAK,CAAC,cACjDxB,IAAA,OAAIe,SAAS,CAAC,YAAY,CAAAD,QAAA,CACvB,EAAAK,eAAA,CAAAD,IAAI,CAACO,SAAS,UAAAN,eAAA,iBAAdA,eAAA,CAAgBO,IAAI,GAAI,OAAO,CAC9B,CAAC,GARER,IAAI,CAACS,GASV,CAAC,EACN,CAAC,CACG,CAAC,EACH,CACR,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}